<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org">
<meta name='Author' content='ActiveState'>
<link rel='stylesheet' type='text/css' href='../../aspn.css'>
<title>Built-In Commands - fontchooser manual page</title>
<link rel="stylesheet" href="../docs.css" type="text/css" media=
"all">
</head>
<body>
<div class="banner">
<table width="100%" border="0" cellspacing="0" cellpadding="3">
<tr>
<td align="left"><a target="_blank" href=
"http://www.activestate.com/activetcl"><img src=
"../../images/ActiveTcl.gif" border="0" align="left" alt=
"ActiveTcl"></a> </td>
<td align="center" class="heading">ActiveTcl User Guide</td>
<td align="right"><a target="_blank" href=
"http://www.activestate.com"><img src="../../images/AS_logo.gif"
border="0" align="right" alt="ActiveState Software Inc."></a> </td>
</tr>
</table>
</div>

<br>
<h2><a href="../contents.htm">Tcl/Tk Documentation</a>
<small>&gt;</small> <a href="contents.htm">TkCmd</a>
<small>&gt;</small> fontchooser</h2>

<h3><a href="../UserCmd/contents.htm">Tcl/Tk Applications</a> | <a
href="../TclCmd/contents.htm">Tcl Commands</a> | <a href=
"../TkCmd/contents.htm">Tk Commands</a> | <a href=
"../TclLib/contents.htm">Tcl Library</a> | <a href=
"../TkLib/contents.htm">Tk Library</a></h3>

<dl>
<dd><a href="fontchooser.htm#M2" name="L662">NAME</a> 

<dl>
<dd>fontchooser - control font selection dialog</dd>
</dl>
</dd>

<dd><a href="fontchooser.htm#M3" name="L663">SYNOPSIS</a> 

<dl>
<dd><b>tk fontchooser</b> <b>configure</b> ?<i>-option value
-option value ...</i>?</dd>

<dd><b>tk fontchooser</b> <b>show</b></dd>

<dd><b>tk fontchooser</b> <b>hide</b></dd>
</dl>
</dd>

<dd><a href="fontchooser.htm#M4" name="L664">DESCRIPTION</a> 

<dl class="description">
<dd><a href="fontchooser.htm#M5" name="L665"><b>tk fontchooser</b>
<b>configure</b> ?<i>-option value -option value ...</i>?</a></dd>

<dd><a href="fontchooser.htm#M6" name="L666"><b>tk fontchooser</b>
<b>show</b></a></dd>

<dd><a href="fontchooser.htm#M7" name="L667"><b>tk fontchooser</b>
<b>hide</b></a></dd>
</dl>
</dd>

<dd><a href="fontchooser.htm#M8" name="L668">CONFIGURATION
OPTIONS</a> 

<dl class="configuration options">
<dd><a href="fontchooser.htm#M9" name=
"L669"><b>-parent</b></a></dd>

<dd><a href="fontchooser.htm#M10" name=
"L670"><b>-title</b></a></dd>

<dd><a href="fontchooser.htm#M11" name="L671"><b>-font</b></a></dd>

<dd><a href="fontchooser.htm#M12" name=
"L672"><b>-command</b></a></dd>

<dd><a href="fontchooser.htm#M13" name=
"L673"><b>-visible</b></a></dd>
</dl>
</dd>

<dd><a href="fontchooser.htm#M14" name="L674">VIRTUAL EVENTS</a> 

<dl class="virtual events">
<dd><a href="fontchooser.htm#M15" name=
"L675"><b>&lt;&lt;TkFontchooserVisibility&gt;&gt;</b></a></dd>

<dd><a href="fontchooser.htm#M16" name=
"L676"><b>&lt;&lt;TkFontchooserFontChanged&gt;&gt;</b></a></dd>
</dl>
</dd>

<dd><a href="fontchooser.htm#M17" name="L677">NOTES</a></dd>

<dd><a href="fontchooser.htm#M18" name="L678">EXAMPLE</a></dd>

<dd><a href="fontchooser.htm#M19" name="L679">SEE ALSO</a></dd>

<dd><a href="fontchooser.htm#M20" name="L680">KEYWORDS</a></dd>
</dl>

<h3><a name="M2">NAME</a></h3>

fontchooser - control font selection dialog 

<h3><a name="M3">SYNOPSIS</a></h3>

<b><a href="../TkCmd/tk.htm">tk fontchooser</a></b>
<b>configure</b> ?<i>-option value -option value ...</i>?<br>
<b><a href="../TkCmd/tk.htm">tk fontchooser</a></b> <b>show</b><br>
<b><a href="../TkCmd/tk.htm">tk fontchooser</a></b> <b>hide</b><br>
<h3><a name="M4">DESCRIPTION</a></h3>

The <b><a href="../TkCmd/tk.htm">tk fontchooser</a></b> command
controls the Tk font selection dialog. It uses the native platform
font selection dialog where available, or a dialog implemented in
Tcl otherwise. 

<p>Unlike most of the other Tk dialog commands, <b><a href=
"../TkCmd/tk.htm">tk fontchooser</a></b> does not return an
immediate result, as on some platforms (Mac OS X) the standard font
dialog is modeless while on others (Windows) it is modal. To
accommodate this difference, all user interaction with the dialog
will be communicated to the caller via callbacks or virtual
events.</p>

<p>The <b><a href="../TkCmd/tk.htm">tk fontchooser</a></b> command
can have one of the following forms:</p>

<dl class="description">
<dt><a name="M5"><b>tk fontchooser</b> <b>configure</b> ?<i>-option
value -option value ...</i>?</a></dt>

<dd>Set or query one or more of the configurations options below
(analogous to Tk widget configuration).</dd>

<dt><a name="M6"><b>tk fontchooser</b> <b>show</b></a></dt>

<dd>Show the font selection dialog. Depending on the platform, may
return immediately or only once the dialog has been withdrawn.</dd>

<dt><a name="M7"><b>tk fontchooser</b> <b>hide</b></a></dt>

<dd>Hide the font selection dialog if it is visible and cause any
pending <b><a href="../TkCmd/tk.htm">tk fontchooser</a></b>
<b>show</b> command to return.</dd>
</dl>

<h3><a name="M8">CONFIGURATION OPTIONS</a></h3>

<dl class="configuration options">
<dt><a name="M9"><b>-parent</b></a></dt>

<dd>Specifies/returns the logical parent window of the font
selection dialog (similar to the <b>-parent</b> option to other
dialogs). The font selection dialog is hidden if it is visible when
the parent window is destroyed.</dd>

<dt><a name="M10"><b>-title</b></a></dt>

<dd>Specifies/returns the title of the dialog. Has no effect on
platforms where the font selection dialog does not support
titles.</dd>

<dt><a name="M11"><b>-font</b></a></dt>

<dd>Specifies/returns the font that is currently selected in the
dialog if it is visible, or that will be initially selected when
the dialog is shown (if supported by the platform). Can be set to
the empty string to indicate that no font should be selected. Fonts
can be specified in any form given by the "FONT DESCRIPTION"
section in the <b><a href="../TkCmd/font.htm">font</a></b> manual
page.</dd>

<dt><a name="M12"><b>-command</b></a></dt>

<dd>Specifies/returns the command prefix to be called when a font
selection has been made by the user. The command prefix is
evaluated at the global level after having the specification of the
selected font appended. On platforms where the font selection
dialog offers the user control of further font attributes (such as
color), additional key/value pairs may be appended before
evaluation. Can be set to the empty string to indicate that no
callback should be invoked. Fonts are specified by a list of form
[3] of the "FONT DESCRIPTION" section in the <b><a href=
"../TkCmd/font.htm">font</a></b> manual page (i.e. a list of the
form <i>{family size style ?style ...?}</i>).</dd>

<dt><a name="M13"><b>-visible</b></a></dt>

<dd>Read-only option that returns a boolean indicating whether the
font selection dialog is currently visible. Attempting to set this
option results in an error.</dd>
</dl>

<h3><a name="M14">VIRTUAL EVENTS</a></h3>

<dl class="virtual events">
<dt><a name=
"M15"><b>&lt;&lt;TkFontchooserVisibility&gt;&gt;</b></a></dt>

<dd>Sent to the dialog parent whenever the visibility of the font
selection dialog changes, both as a result of user action (e.g.
disposing of the dialog via OK/Cancel button or close box) and of
the <b><a href="../TkCmd/tk.htm">tk fontchooser</a></b>
<b>show</b>/<b>hide</b> commands being called. Binding scripts can
determine the current visibility of the dialog by querying the
<b>-visible</b> configuration option.</dd>

<dt><a name=
"M16"><b>&lt;&lt;TkFontchooserFontChanged&gt;&gt;</b></a></dt>

<dd>Sent to the dialog parent whenever the font selection dialog is
visible and the selected font changes, both as a result of user
action and of the <b>-font</b> configuration option being set.
Binding scripts can determine the currently selected font by
querying the <b>-font</b> configuration option.</dd>
</dl>

<h3><a name="M17">NOTES</a></h3>

Callers should not expect a result from <b><a href=
"../TkCmd/tk.htm">tk fontchooser</a></b> <b>show</b> and may not
assume that the dialog has been withdrawn or closed when the
command returns. All user interaction with the dialog is
communicated to the caller via the <b>-command</b> callback and the
<b>&lt;&lt;TkFontchooser*&gt;&gt;</b> virtual events. It is
implementation dependent which exact user actions result in the
callback being called resp. the virtual events being sent. Where an
Apply or OK button is present in the dialog, that button will
trigger the <b>-command</b> callback and
<b>&lt;&lt;TkFontchooserFontChanged&gt;&gt;</b> virtual event. On
some implementations other user actions may also have that effect;
on Mac OS X for instance, the standard font selection dialog
immediately reflects all user choices to the caller. 

<p>In the presence of multiple widgets intended to be influenced by
the font selection dialog, care needs to be taken to correctly
handle focus changes: the font selected in the dialog should always
match the current font of the widget with the focus, and the
<b>-command</b> callback should only act on the widget with the
focus. The recommended practice is to set font dialog <b>-font</b>
and <b>-command</b> configuration options in per-widget
<b>&lt;FocusIn&gt;</b> handlers (and if necessary to unset them -
i.e. set to the empty string - in corresponding
<b>&lt;FocusOut&gt;</b> handlers). This is particularly important
for implementers of library code using the font selection dialog,
to avoid conflicting with application code that may also want to
use the dialog.</p>

<p>Because the font selection dialog is application-global, in the
presence of multiple interpreters calling <b><a href=
"../TkCmd/tk.htm">tk fontchooser</a></b>, only the <b>-command</b>
callback set by the interpreter that most recently called <b><a
href="../TkCmd/tk.htm">tk fontchooser</a></b> <b>configure</b> or
<b><a href="../TkCmd/tk.htm">tk fontchooser</a></b> <b>show</b>
will be invoked in response to user action and only the
<b>-parent</b> set by that interpreter will receive
<b>&lt;&lt;TkFontchooser*&gt;&gt;</b> virtual events.</p>

<p>The font dialog implementation may only store (and return) <b><a
href="../TkCmd/font.htm">font</a></b> <b>actual</b> data as the
value of the <b>-font</b> configuration option. This can be an
issue when <b>-font</b> is set to a named font, if that font is
subsequently changed, the font dialog <b>-font</b> option needs to
be set again to ensure its selected font matches the new value of
the named font.</p>

<h3><a name="M18">EXAMPLE</a></h3>

<pre>
proc fontchooserDemo {} {
    wm title . "Font Chooser Demo"
    <b><a href=
"../TkCmd/tk.htm">tk fontchooser</a></b> <b>configure</b> -parent .
    button .b -command fontchooserToggle -takefocus 0
    fontchooserVisibility .b
    bind . <b>&lt;&lt;TkFontchooserVisibility&gt;&gt;</b> \
            [list fontchooserVisibility .b]
    foreach w {.t1 .t2} {
        text $w -width 20 -height 4 -borderwidth 1 -relief solid
        bind $w &lt;FocusIn&gt; [list fontchooserFocus $w]
        $w insert end "Text Widget $w"
    }
    .t1 configure -font {Courier 14}
    .t2 configure -font {Times 16}
    pack .b .t1 .t2; focus .t1
}
proc fontchooserToggle {} {
    <b><a href="../TkCmd/tk.htm">tk fontchooser</a></b> [expr {
            [<b><a href=
"../TkCmd/tk.htm">tk fontchooser</a></b> <b>configure</b> -visible] ?
            "<b>hide</b>" : "<b>show</b>"}]
}
proc fontchooserVisibility {w} {
    $w configure -text [expr {
            [<b><a href=
"../TkCmd/tk.htm">tk fontchooser</a></b> <b>configure</b> -visible] ?
            "Hide Font Dialog" : "Show Font Dialog"}]
}
proc fontchooserFocus {w} {
    <b><a href=
"../TkCmd/tk.htm">tk fontchooser</a></b> <b>configure</b> -font [$w cget -font] \
            -command [list fontchooserFontSelection $w]
}
proc fontchooserFontSelection {w font args} {
    $w configure -font [font actual $font]
}
fontchooserDemo
</pre>

<h3><a name="M19">SEE ALSO</a></h3>

<b><a href="../TkCmd/font.htm">font</a></b>, <b><a href=
"../TkCmd/tk.htm">tk</a></b> 

<h3><a name="M20">KEYWORDS</a></h3>

<a href="../Keywords/D.htm#dialog">dialog</a>, <a href=
"../Keywords/F.htm#font">font</a>, <a href=
"../Keywords/F.htm#font selection">font selection</a>, <a href=
"../Keywords/F.htm#font chooser">font chooser</a>, <a href=
"../Keywords/F.htm#font panel">font panel</a> 

<div class="copy">Copyright &copy; 1995-1997 Roger E. Critchlow Jr.
Copyright &copy; 2008 Daniel A. Steffen
&lt;das(at)users.sourceforge.net&gt;</div>
</body>
</html>

